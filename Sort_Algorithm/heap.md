# 堆排序

堆排序（`Heapsort`）是指利用堆这种数据结构所设计的一种排序算法。

**堆是什么**

堆一般指的是二叉堆，顾名思义，二叉堆是完全二叉树或者近似完全二叉树。

**堆的性质**

1. 是一颗完全二叉树或近似完全二叉树

2. 每个节点的值大于或等于其子节点的值，为最大堆；反之，为最小堆。

**堆的存储**

一般用数组来表示堆。

> 下标为i的节点的父节点下标为(i - 1) / 2
>
> 下标为i的节点的左右子节点下标分别为(2 * i + 1),(2 * i + 2)

数组数据[10,15,56,25,30,70]，其逻辑结构表示为：

```mermaid
graph TD
	10((10)) --- 15((15))
	10 --- 56((56))
	15 --- 25((25))
	15 --- 30((30))
	56 --- 70((70))
	56 --- G(( ))
	style G fill:#f100,stroke-width:0px %% 设置F属性为填充为白色，边框宽度为0
	linkStyle 5 stroke:#0ff,stroke-width:0px

```

**堆排序基本思想**

利用大顶堆(小顶堆)堆顶记录的是最大关键字(最小关键字)这一特性，使得每次从无序中选择最大记录(最小记录)变得简单。

1.  将待排序的序列构造成一个完全二叉树或近似完全二叉树，此时是无序堆
2. 一个最大堆，此时序列的最大值为根节点
3. 依次将根节点与待排序序列的最后一个元素交换
4. 再维护从根节点到该元素的前一个节点为最大堆，如此往复，最终得到一个递增序列
